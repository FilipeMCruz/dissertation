\chapter{Data Unit - Shared Model Schema}
\label{AppendixA}

This schema represents the Shared Model Schema of a Data Unit as of \textit{iot-core} package version \textit{0.1.20}.

Due to the lack of standards, this model and the represented measures are possibly incomplete. As the \gls{IoT} landscape evolves and defines stricter and well-known standards for sensor measurements and device parameters representation, the \textit{iot-core} package must adhere to them and be able to translate between the supported representations.

The version that is currently in development, \textit{0.2.0}, is planed to support \citetitle{RFC8428}. The reason behind the delayed support for it, steams from the lack of open-source \textit{Java} libraries related to \textit{SenML}, the unfamiliarity of the author with the standard till early April 2022, and the fast paced development of the solution required to meet costumers' needs. 

\begin{lstlisting}[style=json, caption=Data Unit - Shared Model Schema, label={code:AppendixA:schema}]
{
  "dataId": "[uuid]",
  "reportedAt": "[long]",
  "device": {
    "id": "[uuid]",
    "name": "[string]",
    "downlink": "[string]",
    "records": [{
      "label": "[string]",
      "content": "[string]"
    }],
    "domains":  ["[uuid]"],
    "commands": {
      "[int]": [{
        "id": "[uuid]",
        "name": "[string]",
        "payload": "[base64 string]",
        "port": "[int]"
      }]
    }
  },
  "measures": {
    "[int]": {
      "airHumidity": {
        "gramsPerCubicMeter": "[float]",
        "relativePercentage": "[float]"
      },
      "airPressure": {  "hectoPascal": "[float]"  },
      "aqi": {  "value": "[float]"  },
      "battery": {
        "percentage": "[float]",
        "volts": "[float]",
        "maxVolts": "[float]",
        "minVolts": "[float]"
      },
      "co2": {  "ppm": "[float]"  },
      "co": {  "ppm": "[float]"  },
      "distance": {
        "millimeters": "[float]",
        "maxMillimeters": "[float]",
        "minMillimeters": "[float]"
      },
      "gps": {
        "latitude": "[double]",
        "longitude": "[double]",
        "altitude": "[float]"
      },
      "illuminance": {  "lux": "[float]"  },
      "motion": {  "value": "[ACTIVE, INACTIVE or UNKNOWN]"  },
      "nh3": {  "ppm": "[float]"  },
      "no2": {  "ppm": "[float]"  },
      "o3": {  "ppm": "[float]"  },
      "occupation": {  "percentage": "[float]"  },
      "ph": {  "value": "[float]"  },
      "pm2_5": {  "microGramsPerCubicMeter": "[float]"  },
      "pm10": {  "microGramsPerCubicMeter": "[float]"  },
      "soilConductivity": {  
        "microSiemensPerCentimeter": "[float]"
      },
      "soilMoisture": {  "relativePercentage": "[float]"  },
      "temperature": {  "celsius": "[float]"  },
      "trigger": {  "value": "[boolean]"  },
      "velocity": {  "kilometerPerHour": "[float]"  },
      "voc": {  "ppm": "[float]"  },
      "waterPressure": {  "bar": "[float]"  }
    }
  }
}
\end{lstlisting}
